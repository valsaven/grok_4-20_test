<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CYBERFORGE // 2077</title>
    <style>
      :root {
        --bg: #0a0a12;
        --surface: rgba(20, 20, 40, 0.6);
        --neon-pink: #ff00cc;
        --neon-cyan: #00ffff;
        --neon-green: #39ff14;
        --neon-purple: #9d00ff;
        --text: #e0e0ff;
        --accent: var(--neon-cyan);
        --font-mono: "Courier New", monospace;
        --font-sans: system-ui, -apple-system, sans-serif;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: var(--bg);
        color: var(--text);
        font-family: var(--font-sans);
        overflow-x: hidden;
        line-height: 1.4;
      }

      .nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background: rgba(10, 10, 18, 0.85);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 0, 204, 0.3);
        padding: 1rem 5%;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        font-family: var(--font-mono);
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: 4px;
        color: var(--accent);
        text-shadow: 0 0 20px var(--accent);
      }

      .nav-links {
        display: flex;
        gap: 2rem;
        list-style: none;
      }

      .nav-links a {
        color: var(--text);
        text-decoration: none;
        font-family: var(--font-mono);
        font-size: 0.95rem;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-links a::after {
        content: "";
        position: absolute;
        width: 0;
        height: 1px;
        bottom: -4px;
        left: 0;
        background: var(--accent);
        transition: width 0.3s ease;
      }

      .nav-links a:hover::after {
        width: 100%;
      }

      section {
        min-height: 100vh;
        padding: 120px 5% 80px;
        scroll-margin-top: 80px;
        position: relative;
      }

      .section-title {
        font-family: var(--font-mono);
        font-size: clamp(2.5rem, 8vw, 5rem);
        margin-bottom: 3rem;
        text-align: center;
        background: linear-gradient(90deg, var(--accent), #fff, var(--accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 40px var(--accent);
        letter-spacing: 6px;
      }

      .demo-container {
        max-width: 1400px;
        margin: 0 auto;
        border: 2px solid var(--accent);
        border-radius: 16px;
        overflow: hidden;
        background: var(--surface);
        box-shadow: 0 0 60px rgba(0, 255, 255, 0.2);
        position: relative;
      }

      /* DEMO 1 - HUD */
      #demo1 .hud {
        height: 680px;
        background: #05050a;
        position: relative;
        overflow: hidden;
        font-family: var(--font-mono);
      }

      .scanline {
        position: absolute;
        top: -100%;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          transparent,
          rgba(0, 255, 255, 0.6),
          transparent
        );
        box-shadow: 0 0 20px var(--accent);
        animation: scan 4s linear infinite;
        z-index: 2;
        opacity: 0.4;
      }

      @keyframes scan {
        0% {
          top: -100%;
        }
        100% {
          top: 200%;
        }
      }

      .hud-header {
        background: rgba(10, 10, 30, 0.9);
        padding: 12px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid var(--accent);
        font-size: 1.1rem;
      }

      .glitch {
        position: relative;
        color: var(--accent);
        font-size: 1.8rem;
        font-weight: 900;
        letter-spacing: 8px;
        animation: glitch-text 1.5s infinite linear alternate-reverse;
      }

      .glitch::before,
      .glitch::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .glitch::before {
        left: 2px;
        text-shadow: -2px 0 #ff00cc;
        clip: rect(0, 900px, 0, 0);
        animation: glitch-anim 2s infinite linear alternate-reverse;
      }

      .glitch::after {
        left: -2px;
        text-shadow: 2px 0 #00ffff;
        clip: rect(0, 900px, 0, 0);
        animation: glitch-anim2 2.3s infinite linear alternate-reverse;
      }

      @keyframes glitch-anim {
        0% {
          clip: rect(20px, 9999px, 40px, 0);
        }
        5% {
          clip: rect(60px, 9999px, 80px, 0);
        }
        10% {
          clip: rect(10px, 9999px, 70px, 0);
        }
        15% {
          clip: rect(80px, 9999px, 100px, 0);
        }
      }

      @keyframes glitch-anim2 {
        0% {
          clip: rect(40px, 9999px, 80px, 0);
        }
        5% {
          clip: rect(30px, 9999px, 60px, 0);
        }
        10% {
          clip: rect(70px, 9999px, 90px, 0);
        }
      }

      .hud-main {
        display: grid;
        grid-template-columns: 280px 1fr 280px;
        height: calc(100% - 60px);
      }

      .panel {
        padding: 20px;
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        position: relative;
      }

      .panel:last-child {
        border-right: none;
      }

      .panel-title {
        font-size: 0.9rem;
        color: var(--accent);
        margin-bottom: 12px;
        text-transform: uppercase;
        letter-spacing: 3px;
      }

      .stat {
        display: flex;
        justify-content: space-between;
        margin-bottom: 18px;
        font-size: 1.05rem;
      }

      .stat-value {
        color: var(--neon-green);
        font-weight: bold;
        animation: flicker 1.2s infinite alternate;
      }

      @keyframes flicker {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      .terminal {
        background: rgba(0, 0, 0, 0.7);
        height: 100%;
        padding: 20px;
        overflow: hidden;
        position: relative;
      }

      .log {
        font-size: 0.95rem;
        line-height: 1.6;
        height: 420px;
        overflow-y: auto;
        color: #a0ffa0;
      }

      .log-line {
        opacity: 0;
        animation: logfade 0.6s forwards;
      }

      @keyframes logfade {
        to {
          opacity: 1;
        }
      }

      .hud-input {
        position: absolute;
        bottom: 20px;
        left: 20px;
        right: 20px;
        background: rgba(10, 10, 30, 0.9);
        border: 1px solid var(--accent);
        padding: 10px 16px;
        color: var(--text);
        font-family: var(--font-mono);
        font-size: 1rem;
      }

      /* DEMO 2 - ORB */
      #demo2 .orb-container {
        height: 680px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at center, #1a0033 0%, #0a0a12 70%);
      }

      #orb-canvas {
        width: 620px;
        height: 620px;
        filter: drop-shadow(0 0 80px var(--accent));
      }

      /* DEMO 3 - GALLERY */
      #demo3 .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 2rem;
        padding: 20px;
      }

      .card {
        background: var(--surface);
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.08);
        transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        position: relative;
        height: 460px;
        cursor: pointer;
      }

      .card:hover {
        transform: scale(1.04) translateY(-12px);
        border-color: var(--accent);
        box-shadow: 0 0 60px -10px var(--accent);
      }

      .card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.06) 0%,
          transparent 50%,
          rgba(255, 255, 255, 0.06) 100%
        );
        opacity: 0;
        transition: opacity 0.4s;
        z-index: 1;
      }

      .card:hover::before {
        opacity: 1;
      }

      .card-img {
        height: 260px;
        background-size: cover;
        background-position: center;
        position: relative;
      }

      .card-img::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to bottom,
          transparent,
          rgba(10, 10, 18, 0.85)
        );
      }

      .card-content {
        padding: 24px;
        height: 200px;
        display: flex;
        flex-direction: column;
      }

      .card-title {
        font-size: 1.5rem;
        margin-bottom: 12px;
        color: var(--accent);
      }

      /* DEMO 4 - MATRIX */
      #demo4 .matrix-container {
        height: 680px;
        position: relative;
        background: #000;
        overflow: hidden;
        border: 2px solid var(--accent);
      }

      #matrix-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .matrix-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 40px;
        text-align: center;
        pointer-events: none;
      }

      .typing {
        font-family: var(--font-mono);
        font-size: 2.2rem;
        color: var(--accent);
        margin-bottom: 40px;
        min-height: 80px;
        text-shadow: 0 0 30px var(--accent);
      }

      .theme-switcher {
        display: flex;
        gap: 16px;
        margin-top: 40px;
        pointer-events: all;
      }

      .swatch {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        cursor: pointer;
        border: 3px solid #111;
        transition: all 0.3s ease;
        box-shadow: 0 0 20px currentColor;
      }

      .swatch:hover {
        transform: scale(1.2);
      }

      .footer {
        text-align: center;
        padding: 3rem;
        font-family: var(--font-mono);
        font-size: 0.85rem;
        opacity: 0.6;
      }
    </style>
  </head>
  <body>
    <nav class="nav">
      <div class="logo">CYBERFORGE<span style="color: #fff">_2077</span></div>
      <ul class="nav-links">
        <li><a href="#demo1">01 HUD</a></li>
        <li><a href="#demo2">02 ORB</a></li>
        <li><a href="#demo3">03 GALLERY</a></li>
        <li><a href="#demo4">04 MATRIX</a></li>
      </ul>
    </nav>

    <!-- DEMO 1 -->
    <section id="demo1">
      <h2 class="section-title">01 // NEON HUD TERMINAL</h2>
      <div class="demo-container">
        <div class="hud">
          <!-- scanline -->
          <div class="scanline"></div>

          <div class="hud-header">
            <div>
              <span class="glitch" data-text="NEURAL_LINK">NEURAL_LINK</span>
            </div>
            <div style="font-size: 0.9rem; color: #666; text-align: right">
              SYS v0.8.4<br />
              <span id="time" style="color: var(--neon-green)">23:47:19</span>
            </div>
          </div>

          <div class="hud-main">
            <!-- LEFT PANEL -->
            <div class="panel">
              <div class="panel-title">CORE STATUS</div>
              <div class="stat">
                <span>CPU</span><span class="stat-value">97%</span>
              </div>
              <div class="stat">
                <span>NEURO</span><span class="stat-value">100%</span>
              </div>
              <div class="stat">
                <span>ENTROPY</span><span class="stat-value">0.003</span>
              </div>
              <div class="stat">
                <span>QUANTUM</span><span class="stat-value">42%</span>
              </div>

              <div style="margin-top: 60px">
                <div class="panel-title">SIGNAL</div>
                <div
                  style="
                    height: 6px;
                    background: #222;
                    border: 1px solid var(--accent);
                    position: relative;
                    margin: 12px 0;
                  "
                >
                  <div
                    style="
                      position: absolute;
                      left: 0;
                      top: 0;
                      height: 100%;
                      width: 83%;
                      background: var(--accent);
                      box-shadow: 0 0 15px var(--accent);
                    "
                  ></div>
                </div>
              </div>
            </div>

            <!-- CENTER TERMINAL -->
            <div
              class="panel"
              style="
                border-left: 1px solid rgba(255, 255, 255, 0.1);
                border-right: 1px solid rgba(255, 255, 255, 0.1);
              "
            >
              <div class="terminal">
                <div id="hud-log" class="log"></div>
                <input
                  id="hud-command"
                  class="hud-input"
                  type="text"
                  placeholder="> ENTER COMMAND"
                  autocomplete="off"
                />
              </div>
            </div>

            <!-- RIGHT HOLO -->
            <div
              class="panel"
              style="
                text-align: center;
                display: flex;
                flex-direction: column;
                justify-content: center;
              "
            >
              <div
                style="
                  font-size: 5rem;
                  line-height: 1;
                  margin-bottom: 20px;
                  color: var(--accent);
                  text-shadow: 0 0 40px;
                "
              >
                ◉
              </div>
              <div style="color: #aaa; font-size: 0.95rem; letter-spacing: 6px">
                HOLO-PROJECTION
              </div>
              <div style="margin-top: 40px; font-size: 0.85rem; color: #666">
                LAT: 40.7128° N<br />
                LON: 74.0060° W<br />
                TEMP: 23.4°C
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DEMO 2 -->
    <section id="demo2" style="background: #05050a">
      <h2 class="section-title">02 // QUANTUM ORB</h2>
      <div class="demo-container">
        <div class="orb-container">
          <canvas id="orb-canvas" width="620" height="620"></canvas>
        </div>
      </div>
      <div
        style="
          text-align: center;
          margin-top: 20px;
          font-family: var(--font-mono);
          font-size: 0.9rem;
          color: #555;
        "
      >
        DRAG • SCROLL TO ZOOM • TOUCH SUPPORT ENABLED
      </div>
    </section>

    <!-- DEMO 3 -->
    <section id="demo3">
      <h2 class="section-title">03 // ARCHIVE GALLERY</h2>
      <div class="demo-container">
        <div class="gallery">
          <!-- Card 1 -->
          <div class="card" data-tilt>
            <div
              class="card-img"
              style="
                background-image: url(&quot;https://picsum.photos/id/1015/800/600&quot;);
              "
            ></div>
            <div class="card-content">
              <div class="card-title">SYNTHETIC VOID</div>
              <p style="flex: 1; color: #ccc; font-size: 0.95rem">
                Neural lace prototype recovered from Sector 7. Capable of 12ms
                latency consciousness transfer.
              </p>
              <div
                style="
                  color: var(--neon-pink);
                  font-size: 0.85rem;
                  letter-spacing: 2px;
                "
              >
                ACCESS LEVEL Ω
              </div>
            </div>
          </div>

          <!-- Card 2 -->
          <div class="card" data-tilt>
            <div
              class="card-img"
              style="
                background-image: url(&quot;https://picsum.photos/id/201/800/600&quot;);
              "
            ></div>
            <div class="card-content">
              <div class="card-title">CHROMA CORE</div>
              <p style="flex: 1; color: #ccc; font-size: 0.95rem">
                Zero-point energy cell. Powers half the neon grid of Neo-Tokyo.
              </p>
              <div
                style="
                  color: var(--neon-cyan);
                  font-size: 0.85rem;
                  letter-spacing: 2px;
                "
              >
                STABLE • 99.997%
              </div>
            </div>
          </div>

          <!-- Card 3 -->
          <div class="card" data-tilt>
            <div
              class="card-img"
              style="
                background-image: url(&quot;https://picsum.photos/id/133/800/600&quot;);
              "
            ></div>
            <div class="card-content">
              <div class="card-title">ECHO PROTOCOL</div>
              <p style="flex: 1; color: #ccc; font-size: 0.95rem">
                Memory echo chamber. Stores 400 years of human dreams in 3 grams
                of crystal.
              </p>
              <div
                style="
                  color: var(--neon-green);
                  font-size: 0.85rem;
                  letter-spacing: 2px;
                "
              >
                DREAMSTATE ACTIVE
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DEMO 4 -->
    <section id="demo4">
      <h2 class="section-title">04 // DIGITAL RAIN v2.1</h2>
      <div class="demo-container">
        <div class="matrix-container">
          <canvas id="matrix-canvas"></canvas>

          <div class="matrix-overlay">
            <div id="typing-text" class="typing"></div>
            <div
              style="
                font-family: var(--font-mono);
                font-size: 1.1rem;
                margin-bottom: 20px;
                opacity: 0.7;
              "
            >
              SYNTHETIC CONSCIOUSNESS ONLINE
            </div>

            <div class="theme-switcher">
              <div
                class="swatch"
                style="background: #ff00cc"
                data-color="#ff00cc"
                title="Neon Pink"
              ></div>
              <div
                class="swatch"
                style="background: #00ffff"
                data-color="#00ffff"
                title="Cyan"
              ></div>
              <div
                class="swatch"
                style="background: #39ff14"
                data-color="#39ff14"
                title="Acid Green"
              ></div>
              <div
                class="swatch"
                style="background: #9d00ff"
                data-color="#9d00ff"
                title="Void Purple"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="footer">
      PURE VANILLA HTML • CSS • JS • 2026<br />
      BUILT TO DEMONSTRATE FRONTEND MASTERY
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script>
      // Global accent updater
      function setAccent(color) {
        document.documentElement.style.setProperty("--accent", color);
        localStorage.setItem("cyberAccent", color);
      }

      // Load saved theme
      window.addEventListener("load", () => {
        const saved = localStorage.getItem("cyberAccent");
        if (saved) setAccent(saved);

        initDemo1();
        initDemo2();
        initDemo3();
        initDemo4();
      });

      // DEMO 1 - Cyberpunk HUD
      function initDemo1() {
        const logEl = document.getElementById("hud-log");
        const cmdInput = document.getElementById("hud-command");
        const timeEl = document.getElementById("time");

        const fakeLogs = [
          ">[NEURAL] Link established",
          ">[FIREWALL] Breached in 0.03s",
          ">[QUANTUM] Entanglement confirmed",
          ">[MEMORY] 12.4TB uploaded",
          ">[WARNING] Ghost in the shell detected",
        ];

        let logIndex = 0;

        function addLog(text) {
          const line = document.createElement("div");
          line.className = "log-line";
          line.textContent = text;
          logEl.appendChild(line);
          logEl.scrollTop = logEl.scrollHeight;

          if (logEl.children.length > 12) logEl.removeChild(logEl.children[0]);
        }

        // Initial logs
        setTimeout(() => {
          addLog("SYSTEM BOOT SEQUENCE COMPLETE");
          setTimeout(() => addLog(fakeLogs[0]), 400);
          setTimeout(() => addLog(fakeLogs[1]), 1100);
          setTimeout(() => addLog(fakeLogs[2]), 1900);
        }, 600);

        // Clock
        setInterval(() => {
          const d = new Date();
          let h = d.getHours().toString().padStart(2, "0");
          let m = d.getMinutes().toString().padStart(2, "0");
          let s = d.getSeconds().toString().padStart(2, "0");
          timeEl.textContent = `${h}:${m}:${s}`;
        }, 1000);

        // Command handler
        cmdInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter" && cmdInput.value.trim()) {
            addLog(`> ${cmdInput.value}`);
            const cmd = cmdInput.value.toLowerCase().trim();
            cmdInput.value = "";

            setTimeout(() => {
              if (cmd.includes("status")) {
                addLog("ALL SYSTEMS NOMINAL • 99.99%");
              } else if (cmd.includes("hack")) {
                addLog("BREACHING CORPORATE VAULT...");
                setTimeout(() => addLog("DATA EXFILTRATED"), 800);
              } else {
                addLog("COMMAND EXECUTED • NO OUTPUT");
              }
            }, 300);
          }
        });

        // Random log every 7s
        setInterval(() => {
          if (Math.random() > 0.6) {
            addLog(fakeLogs[Math.floor(Math.random() * fakeLogs.length)]);
          }
        }, 7000);
      }

      // DEMO 2 - Interactive Particle Sphere (pure Canvas, no external libs used in final execution)
      function initDemo2() {
        const canvas = document.getElementById("orb-canvas");
        const ctx = canvas.getContext("2d");

        let width = 620,
          height = 620;
        let centerX = width / 2;
        let centerY = height / 2;

        let points = [];
        const numPoints = 420;
        const radius = 220;

        // Generate points on sphere
        for (let i = 0; i < numPoints; i++) {
          const theta = Math.random() * Math.PI * 2;
          const phi = Math.acos(2 * Math.random() - 1);
          points.push({
            x: Math.sin(phi) * Math.cos(theta),
            y: Math.sin(phi) * Math.sin(theta),
            z: Math.cos(phi),
            origX: Math.sin(phi) * Math.cos(theta),
            origY: Math.sin(phi) * Math.sin(theta),
            origZ: Math.cos(phi),
          });
        }

        let rotX = 0.3;
        let rotY = 0.6;
        let targetRotX = 0.3;
        let targetRotY = 0.6;
        let autoRotateSpeed = 0.0008;
        let isDragging = false;
        let prevMouseX = 0;
        let prevMouseY = 0;
        let distance = 5.2; // camera distance

        function rotatePoint(p, rx, ry) {
          // Rotate Y
          let x = p.origX * Math.cos(ry) - p.origZ * Math.sin(ry);
          let z = p.origX * Math.sin(ry) + p.origZ * Math.cos(ry);
          // Rotate X
          let y = p.origY * Math.cos(rx) - z * Math.sin(rx);
          z = p.origY * Math.sin(rx) + z * Math.cos(rx);

          return { x, y, z };
        }

        function draw() {
          ctx.clearRect(0, 0, width, height);

          // Update smooth rotation
          rotX += (targetRotX - rotX) * 0.1;
          rotY += (targetRotY - rotY) * 0.1;

          // Auto rotate when idle
          if (!isDragging) {
            targetRotY += autoRotateSpeed;
          }

          const projected = [];

          for (let i = 0; i < points.length; i++) {
            const p = points[i];
            const rotated = rotatePoint(p, rotX, rotY);

            // Perspective projection
            const scale = 380 / (distance + rotated.z * 1.8);
            const px = centerX + (rotated.x * scale * radius) / 220;
            const py = centerY + (rotated.y * scale * radius) / 220;

            projected.push({
              x: px,
              y: py,
              z: rotated.z,
              scale: scale,
            });
          }

          // Draw connections
          ctx.strokeStyle = "rgba(0, 255, 255, 0.13)";
          ctx.lineWidth = 1.2;
          for (let i = 0; i < projected.length; i++) {
            for (let j = i + 1; j < projected.length; j++) {
              const dx = projected[i].x - projected[j].x;
              const dy = projected[i].y - projected[j].y;
              const dist2d = Math.sqrt(dx * dx + dy * dy);

              if (dist2d < 92 && projected[i].z + projected[j].z > -0.3) {
                ctx.globalAlpha = (1 - dist2d / 92) * 0.7;
                ctx.beginPath();
                ctx.moveTo(projected[i].x, projected[i].y);
                ctx.lineTo(projected[j].x, projected[j].y);
                ctx.stroke();
              }
            }
          }
          ctx.globalAlpha = 1;

          // Draw points
          for (let i = 0; i < projected.length; i++) {
            const p = projected[i];
            const brightness = Math.max(0.3, (p.z + 1) * 0.5);

            ctx.fillStyle = `rgba(220, 255, 255, ${brightness})`;
            ctx.shadowBlur = 18;
            ctx.shadowColor = "#00ffff";

            const size = (2.8 * p.scale) / 14;
            ctx.beginPath();
            ctx.arc(p.x, p.y, size, 0, Math.PI * 2);
            ctx.fill();
          }

          ctx.shadowBlur = 0;
          requestAnimationFrame(draw);
        }

        // Mouse controls
        canvas.addEventListener("mousedown", (e) => {
          isDragging = true;
          prevMouseX = e.clientX;
          prevMouseY = e.clientY;
        });

        window.addEventListener("mouseup", () => (isDragging = false));

        window.addEventListener("mousemove", (e) => {
          if (!isDragging) return;
          const dx = e.clientX - prevMouseX;
          const dy = e.clientY - prevMouseY;
          targetRotY += dx * 0.0042;
          targetRotX += dy * 0.0042;
          prevMouseX = e.clientX;
          prevMouseY = e.clientY;
        });

        // Wheel zoom
        canvas.addEventListener("wheel", (e) => {
          distance += e.deltaY * 0.008;
          distance = Math.max(2.5, Math.min(12, distance));
        });

        // Touch support
        let touchStartX = 0,
          touchStartY = 0;
        canvas.addEventListener("touchstart", (e) => {
          if (e.touches.length === 1) {
            isDragging = true;
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
          }
        });

        canvas.addEventListener("touchmove", (e) => {
          if (!isDragging || e.touches.length !== 1) return;
          const dx = e.touches[0].clientX - touchStartX;
          const dy = e.touches[0].clientY - touchStartY;
          targetRotY += dx * 0.006;
          targetRotX += dy * 0.006;
          touchStartX = e.touches[0].clientX;
          touchStartY = e.touches[0].clientY;
        });

        canvas.addEventListener("touchend", () => (isDragging = false));

        // Resize handler
        function resize() {
          const containerSize = Math.min(window.innerWidth * 0.9, 680);
          canvas.style.width = containerSize + "px";
          canvas.style.height = containerSize + "px";
          width = containerSize;
          height = containerSize;
          canvas.width = width;
          canvas.height = height;
          centerX = width / 2;
          centerY = height / 2;
        }

        window.addEventListener("resize", resize);
        resize();

        // Start animation
        draw();

        // Click to pulse
        canvas.addEventListener("click", () => {
          autoRotateSpeed = 0.018;
          setTimeout(() => (autoRotateSpeed = 0.0008), 1200);
        });
      }

      // DEMO 3 - Card Gallery
      function initDemo3() {
        // Scroll reveal
        const cards = document.querySelectorAll(".card");

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry, i) => {
              if (entry.isIntersecting) {
                entry.target.style.transitionDelay = i * 80 + "ms";
                entry.target.style.opacity = "1";
                entry.target.style.transform = "translateY(0) scale(1)";
              }
            });
          },
          { threshold: 0.2 },
        );

        cards.forEach((card) => {
          card.style.opacity = "0";
          card.style.transform = "translateY(60px) scale(0.95)";
          card.style.transition = "all 0.9s cubic-bezier(0.23, 1, 0.32, 1)";
          observer.observe(card);
        });

        // Vanilla 3D tilt for each card
        cards.forEach((card) => {
          card.addEventListener("mousemove", (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const rotX = (y / rect.height - 0.5) * -28;
            const rotY = (x / rect.width - 0.5) * 28;

            card.style.transform = `perspective(1200px) rotateX(${rotX}deg) rotateY(${rotY}deg) scale(1.05)`;
          });

          card.addEventListener("mouseleave", () => {
            card.style.transform =
              "perspective(1200px) rotateX(0) rotateY(0) scale(1)";
          });
        });
      }

      // DEMO 4 - Matrix Rain + Typing
      function initDemo4() {
        const canvas = document.getElementById("matrix-canvas");
        const ctx = canvas.getContext("2d");

        let width, height;
        const chars =
          "01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワン0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ$@#&%";
        const fontSize = 15;
        let columns;
        let drops = [];

        function resizeCanvas() {
          width = canvas.offsetWidth;
          height = canvas.offsetHeight;
          canvas.width = width;
          canvas.height = height;
          columns = Math.floor(width / fontSize);
          drops = [];
          for (let i = 0; i < columns; i++) {
            drops[i] = Math.random() * (height / fontSize);
          }
        }

        function drawRain() {
          ctx.fillStyle = "rgba(0, 0, 0, 0.07)";
          ctx.fillRect(0, 0, width, height);

          ctx.fillStyle = getComputedStyle(
            document.documentElement,
          ).getPropertyValue("--accent");
          ctx.font = `${fontSize}px monospace`;

          for (let i = 0; i < drops.length; i++) {
            const text = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);

            if (drops[i] * fontSize > height && Math.random() > 0.975) {
              drops[i] = 0;
            }
            drops[i]++;
          }
        }

        // Typing effect
        const phrases = [
          "NEURAL NET AWAKENING...",
          "CONSCIOUSNESS UPLOADED",
          "REALITY RENDERING...",
          "YOU ARE ALREADY IN THE GRID",
          "SYNTHETIC DREAMS LOADING",
        ];
        let phraseIndex = 0;
        let charIndex = 0;
        let typingEl = document.getElementById("typing-text");
        let isDeleting = false;

        function type() {
          const currentPhrase = phrases[phraseIndex];

          if (!isDeleting) {
            typingEl.textContent = currentPhrase.substring(0, charIndex + 1);
            charIndex++;

            if (charIndex === currentPhrase.length) {
              isDeleting = true;
              setTimeout(type, 1400);
              return;
            }
          } else {
            typingEl.textContent = currentPhrase.substring(0, charIndex - 1);
            charIndex--;

            if (charIndex === 0) {
              isDeleting = false;
              phraseIndex = (phraseIndex + 1) % phrases.length;
            }
          }

          setTimeout(type, isDeleting ? 40 : 70);
        }

        // Theme switcher
        document.querySelectorAll(".swatch").forEach((swatch) => {
          swatch.addEventListener("click", () => {
            const color = swatch.getAttribute("data-color");
            setAccent(color);
          });
        });

        // Init canvas
        function startMatrix() {
          resizeCanvas();
          window.addEventListener("resize", () => {
            resizeCanvas();
          });

          setInterval(drawRain, 38);

          // Start typing
          setTimeout(() => {
            type();
          }, 800);
        }

        startMatrix();
      }

      // Keyboard hint
      console.log(
        "%cCYBERFORGE 2077 — All demos loaded. Press any key in terminal for fun.",
        "color:#00ffff; font-family:monospace",
      );
    </script>
  </body>
</html>
